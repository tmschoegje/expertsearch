based on the "google custom search" code I wrote for the search behaviour logging extension